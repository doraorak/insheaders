//
//   Generated by https://github.com/blacktop/ipsw (Version: 3.1.468, BuildCommit: a1243d3a18f9b0e29af55a12ad74ccd2cd1f0abc)
//
//    - LC_BUILD_VERSION:  Platform: iOS, MinOS: 15.0, SDK: 17.4, Tool: ld (16.0)
//    - LC_SOURCE_VERSION: 
//
#ifndef FBMediaSegmentStreamImpl_h
#define FBMediaSegmentStreamImpl_h
@import Foundation;

#include "FBCancelable-Protocol.h"
#include "FBMediaNetworkDispatch-Protocol.h"
#include "FBMediaResumableSegmentStream-Protocol.h"
#include "FBMediaSegmentStream-Protocol.h"
#include "FBMediaSegmentStreamConfig.h"
#include "FBMediaSegmentStreamMetricsBuilder.h"
#include "FBMediaStreamingUploadSegmentCancelSender.h"
#include "FBMediaStreamingUploadSegmentEndSender.h"
#include "FBMediaStreamingUploadSegmentStartSender.h"
#include "FBMediaUploadHandler.h"
#include "FBMediaUploadListener-Protocol.h"
#include "FBMediaUploadProtocolProvider-Protocol.h"

@class NSMutableArray, NSMutableDictionary, NSMutableSet, NSString;
@protocol OS_dispatch_queue;

@interface FBMediaSegmentStreamImpl : NSObject<FBMediaSegmentStream, FBMediaResumableSegmentStream, FBMediaUploadListener> {
  /* instance variables */
  NSString *_streamId;
  NSObject<OS_dispatch_queue> *_queue;
  FBMediaSegmentStreamConfig *_config;
  NSObject<FBMediaNetworkDispatch> *_networkDispatcher;
  FBMediaUploadHandler *_uploadHandler;
  FBMediaSegmentStreamMetricsBuilder *_metricsBuilder;
  NSMutableSet *_inflightSegmentJobs;
  NSMutableSet *_completedSegmentJobs;
  NSMutableSet *_failedSegmentJobs;
  NSMutableDictionary *_segmentJobs;
  NSMutableDictionary *_completedPercentageOfJobs;
  NSMutableArray *_pendingSegmentJobs;
  FBMediaStreamingUploadSegmentStartSender *_startSender;
  NSObject<FBCancelable> *_startSenderCancelToken;
  FBMediaStreamingUploadSegmentEndSender *_endSender;
  NSObject<FBCancelable> *_endSenderCancelToken;
  FBMediaStreamingUploadSegmentCancelSender *_cancelSender;
  NSObject<FBCancelable> *_cancelSenderCancelToken;
  id /* block */ _streamProgressBlock;
  id /* block */ _streamCheckpointBlock;
  id /* block */ _streamCompletionBlock;
  id /* block */ _streamCancelBlock;
  int _segmentStartOffset;
  NSString *_uploadRetryId;
  int _numberOfSegments;
  double _completedPercentage;
  BOOL _completionBlockCalled;
  BOOL _cancelSignalSent;
  BOOL _streamCanceled;
  id /* block */ _uploadFailureBlock;
  BOOL _isResumed;
  NSString *_token;
  int _numberOfEndCalls;
  int _numberOfStartCalls;
  NSObject<FBMediaUploadProtocolProvider> *_protocolProvider;
}

@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@optional
@property (readonly, copy) NSString *debugDescription;

/* instance methods */
- (id)initWithConfig:(id)config networkDispatcher:(id)dispatcher queue:(id)queue uploadHandler:(id)handler streamProgress:(id /* block */)progress streamCheckpoint:(id /* block */)checkpoint streamCompletion:(id /* block */)completion streamCancel:(id /* block */)cancel;
- (id)initWithDetail:(id)detail networkDispatcher:(id)dispatcher queue:(id)queue uploadHandler:(id)handler;
- (void)start;
- (void)uploadSegmentWithContent:(id)content segmentType:(unsigned long long)type isLastSegment:(BOOL)segment;
- (void)uploadSegmentWithContent:(id)content segmentType:(unsigned long long)type;
- (void)uploadSegmentWithContent:(id)content segmentType:(unsigned long long)type streamAnnouncer:(id)announcer;
- (void)cancel;
- (id)extraLogging;
- (void)uploadDidSucceed:(id)succeed withResponse:(id)response metrics:(id)metrics;
- (void)uploadDidFail:(id)fail withFailureReason:(unsigned long long)reason isResumable:(BOOL)resumable metrics:(id)metrics;
- (void)uploadWasCancelled:(id)cancelled metrics:(id)metrics;
- (void)uploadHasProgressed:(id)progressed withProgressInformation:(struct { long long x0; double x1; BOOL x2; })information;
- (void)markEndOfStream;
- (id)jobId;
- (unsigned long long)dataSize;
@end

#endif /* FBMediaSegmentStreamImpl_h */
