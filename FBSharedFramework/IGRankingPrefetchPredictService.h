//
//   Generated by https://github.com/blacktop/ipsw (Version: 3.1.468, BuildCommit: a1243d3a18f9b0e29af55a12ad74ccd2cd1f0abc)
//
//    - LC_BUILD_VERSION:  Platform: iOS, MinOS: 15.0, SDK: 17.4, Tool: ld (16.0)
//    - LC_SOURCE_VERSION: 
//
#ifndef IGRankingPrefetchPredictService_h
#define IGRankingPrefetchPredictService_h
@import Foundation;

#include "IGDirectInboxSubscriptionService.h"
#include "IGFriendStatusChangedListener-Protocol.h"
#include "IGRankingFeatureBasedBooster.h"
#include "IGRankingODMLPersistenceManager.h"
#include "IGRankingPredictFollowingData.h"
#include "IGRankingPredictInboxData.h"
#include "IGRankingPredictLastPositiveInboxData.h"
#include "IGRankingPredictRankingData.h"
#include "IGRankingPredictShareSheetInteractionData.h"
#include "IGRankingService.h"
#include "IGRankingServiceListener-Protocol.h"
#include "IGSubscriptionToken-Protocol.h"
#include "IGUser.h"
#include "IGUserDefaults.h"
#include "IGUserLauncherSetProviding-Protocol.h"
#include "IGWarmStartListener-Protocol.h"

@class NSMutableArray, NSMutableSet, NSString;
@protocol IGRankingPrefetchPredictor;

@interface IGRankingPrefetchPredictService : NSObject<IGWarmStartListener, IGRankingServiceListener, IGFriendStatusChangedListener> {
  /* instance variables */
  IGRankingService *_rankingService;
  NSObject<IGUserLauncherSetProviding> *_launcherSet;
  IGDirectInboxSubscriptionService *_directInboxSubscriptionService;
  NSObject<IGSubscriptionToken> *_inboxDefaultTabSubscriptionToken;
  IGUser *_currentUser;
  IGRankingPredictInboxData *_currentInboxData;
  IGRankingPredictInboxData *_lastInboxData;
  IGRankingPredictInboxData *_lastPersistedInboxData;
  IGRankingPredictLastPositiveInboxData *_lastPositiveInboxData;
  IGRankingPredictRankingData *_rankingData;
  IGRankingPredictShareSheetInteractionData *_shareSheetInteractionData;
  IGRankingPredictFollowingData *_followingData;
  NSObject<IGRankingPrefetchPredictor> *_prefetchPredictor;
  IGRankingODMLPersistenceManager *_persistenceManager;
  IGRankingFeatureBasedBooster *_featureBasedBooster;
  NSString *_currentMediaIdentifier;
  NSString *_hasPrefetchedForMediaIdentifier;
  unsigned long long _triggerEligibilityForCurrentMedia;
  BOOL _isInboxActivityInitialized;
  double _sessionStartTimeWatingForShareSheetOpenEvent;
  IGUserDefaults *_userDefaults;
  double _lastPositiveTimestamp;
  NSMutableSet *_newFollowings;
  NSMutableArray *_newFollowingEvents;
}

@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@optional
@property (readonly, copy) NSString *debugDescription;

/* instance methods */
- (id)initWithUserSession:(id)session;
- (void)dealloc;
- (BOOL)_checkTriggerEligibility:(long long)eligibility;
- (void)_clearTriggerEligibility:(long long)eligibility;
- (void)_predictForMedia:(id)media playbackState:(struct { long long x0; double x1; double x2; })state triggerType:(long long)type;
- (void)predictForMedia:(id)media playbackState:(struct { long long x0; double x1; double x2; })state mediaTriggerType:(long long)type;
- (void)predictForShareSheetExitInteraction:(BOOL)interaction;
- (void)recordShareSheetOpenInteractionForMedia:(id)media;
- (void)_recordAppStartEvent;
- (void)_proceedForInboxActivity:(id)activity;
- (void)_updateLastPositivePredictInboxData:(id)data;
- (void)_updateAndPersistLastPositivePredictInboxData:(id)data;
- (void)_restoreLastPositivePredictInboxData:(id)data;
- (void)_restoreShareSheetInteractionData:(id)data;
- (void)_updateAndPersistShareSheetInteractionData:(id)data;
- (void)_restoreNewFollowingEvents:(id)events;
- (void)_updateAndPersistNewFollowingEvents:(id)events;
- (void)_restoreLastPositivePredictTime;
- (void)_updateLastPositivePredictTime;
- (void)rankingServiceDidRefreshRankings:(id)rankings hasMorePages:(BOOL)pages pageMaxId:(id)id;
- (void)rankingServiceDidFailToRefreshRankings:(id)rankings;
- (void)applicationWillWarmStartWithTimeIntervalSinceBackgrounded:(double)backgrounded;
- (void)friendStatusChangedForUser:(id)user withUserAction:(long long)action;
- (id)_filteredNewFollowingEvents;
- (id)getRankedScoresAndEntities:(long long)entities;
- (id)getRankedScoresAndEntities:(long long)entities firstPageRankings:(BOOL)rankings;
- (id)getRankedEntitiesForView:(long long)view;
- (id)rankingRequestIdForView:(long long)view;
- (id)getRankedChannelsForView:(long long)view;
- (id)rankingRequestIdForView:(long long)view firstPageRankings:(BOOL)rankings;
- (id)cacheMetadataForView:(long long)view;
- (void)optimisticFetchRankingForView:(long long)view completion:(id /* block */)completion;
@end

#endif /* IGRankingPrefetchPredictService_h */
