//
//   Generated by https://github.com/blacktop/ipsw (Version: 3.1.468, BuildCommit: a1243d3a18f9b0e29af55a12ad74ccd2cd1f0abc)
//
//    - LC_BUILD_VERSION:  Platform: iOS, MinOS: 15.0, SDK: 17.4, Tool: ld (16.0)
//    - LC_SOURCE_VERSION: 
//
#ifndef FBMessagingMailbox_h
#define FBMessagingMailbox_h
@import Foundation;

#include "FBMessagingMailboxOptions.h"
#include "FBMessagingMailboxProtocol-Protocol.h"
#include "MBAMailbox.h"
#include "MBUIMediaManager.h"

@class MBASystem, MBIAccountSession, MBINotificationCenter, NSArray, NSError, NSMutableArray, NSNumber, NSString;
@protocol MBIMediaUploadHandling, OS_dispatch_queue, {atomic<bool>="__a_"{__cxx_atomic_impl<bool, std::__cxx_atomic_base_impl<bool>>="__a_value"AB}};

@interface FBMessagingMailbox : NSObject<FBMessagingMailboxProtocol> {
  /* instance variables */
  struct mutex { struct _opaque_pthread_mutex_t { long long __sig; char x[56] __opaque; } __m_; } _mutex;
  NSObject<OS_dispatch_queue> *_mailboxQueue;
  MBAMailbox *_underlyingMailbox;
  MBUIMediaManager *_underlyingMediaManager;
  NSObject<MBIMediaUploadHandling> *_underlyingMediaUploadHandler;
  MBINotificationCenter *_globalNotificationCenter;
  id /* block */ _willActivateActions;
  id /* block */ _didActivateActions;
  id /* block */ _willDeactivateActions;
  id /* block */ _didDeactivateActions;
  BOOL _encryptDatabaseAtShutdown;
  id /* block */ _fatalErrorHandlerProvider;
  id /* block */ _willSwitchAccountActionsProvider;
  NSError *_underlyingFatalError;
  BOOL _syncEnabled;
  NSArray *_contactSyncRankingTypes;
  BOOL _shouldEnableQuickPromotion;
  BOOL _updateContactSyncImageSize;
  struct __MCIAppStateHandler * _appStateHandler;
  BOOL _hasBeenInvalidated;
  double _screenScale;
  struct CGSize { double width; double height; } _previewSize;
  struct CGSize { double width; double height; } _stickerSize;
  struct CGSize { double width; double height; } _quickPromotionImageSize;
  NSNumber *_contactImageSize;
  NSNumber *_contactLargeImageSize;
  long long _memoryLimitState;
  NSString *_bloksVersionId;
  MBIAccountSession *_accountSession;
  MBASystem *_system;
  NSMutableArray *_activationCallbackBlocks;
  struct atomic<bool> { struct __cxx_atomic_impl<bool, std::__cxx_atomic_base_impl<bool>> { atomic  __a_value; BOOL x0; } __a_; } _bootstrapStarted;
  struct _FBMessagingMailboxBootstrapData { BOOL usingPrivateNotificationCenter; MBINotificationCenter *notificationCenter; NSString *userLocale; NSString *syncClientVersion; NSString *syncSchemaVersionId; BOOL createDisabledSync; NSArray *delayedSyncGroups; BOOL useAllowListV2; NSArray *contactSyncRankingTypes; FBMessagingMailboxBootstrapProviders *mailboxProviders; BOOL enableSyncWithForcedCallback_S364045; } _bootstrapData;
  FBMessagingMailboxOptions *_mailboxOptions;
}

@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@optional
@property (readonly, copy) NSString *debugDescription;

/* instance methods */
- (id)initWithPrivateNotificationCenter:(BOOL)center globalNotificationCenter:(id)center userLocale:(id)locale syncClientVersion:(id)version syncSchemaVersionId:(id)id createDisabledSync:(BOOL)sync delayedSyncGroups:(id)groups useAllowListV2:(BOOL)v2 contactSyncRankingTypes:(id)types mailboxProviders:(id)providers mailboxOptions:(id)options;
- (void)bootstrapMsysIfNeeded;
- (void)_bootstrapMsysInternal_DO_NOT_CALL;
- (void)getActiveUnderlyingMailbox:(id /* block */)mailbox;
- (void)getActiveUnderlyingMailboxInContext:(int)context callback:(id /* block */)callback;
- (id)underlyingMailboxIfAvailable;
- (id)underlyingMediaManagerIfAvailable;
- (id)underlylingMediaUploadHandler;
- (void)invalidate;
- (void)_setUpMailboxSyncParamsIfNecessary;
- (id)underlyingFatalErrorIfAvailable;
- (void)beginSyncIfNeeded;
- (void)interruptRunningQueries;
- (void)applicationDidFinishStartup;
- (void)applicationDidEnterBackground;
- (void)onMemoryLimitStateChanged:(id)changed;
- (void)deactivatePriorToAccountSwitch;
- (void)reactivateAfterAccountSwitch;
@end

#endif /* FBMessagingMailbox_h */
