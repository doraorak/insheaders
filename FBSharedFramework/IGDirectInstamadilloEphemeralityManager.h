//
//   Generated by https://github.com/blacktop/ipsw (Version: 3.1.468, BuildCommit: a1243d3a18f9b0e29af55a12ad74ccd2cd1f0abc)
//
//    - LC_BUILD_VERSION:  Platform: iOS, MinOS: 15.0, SDK: 17.4, Tool: ld (16.0)
//    - LC_SOURCE_VERSION: 
//
#ifndef IGDirectInstamadilloEphemeralityManager_h
#define IGDirectInstamadilloEphemeralityManager_h
@import Foundation;

#include "FBAnalyticsLogging-Protocol.h"
#include "IGDirectCache.h"
#include "IGDirectE2EEDiskStore.h"
#include "IGDirectMsysAccountSessionProviding-Protocol.h"
#include "IGUserActions.h"
#include "IGUserLauncherSetProviding-Protocol.h"
#include "IGUserStore.h"

@class NSString;

@interface IGDirectInstamadilloEphemeralityManager : NSObject {
  /* instance variables */
  NSObject<IGDirectMsysAccountSessionProviding> *_accountSessionProvider;
  IGDirectE2EEDiskStore *_diskStore;
  IGDirectCache *_directCache;
  NSObject<IGUserLauncherSetProviding> *_featureSets;
  NSString *_userPk;
  IGUserStore *_userStore;
  IGUserActions *_userActions;
  NSObject<FBAnalyticsLogging> *_analyticsLogger;
}

/* instance methods */
- (id)initWithE2EEDiskStore:(id)store directCache:(id)cache accountSessionProvider:(id)provider userPk:(id)pk userStore:(id)store userActions:(id)actions featureSets:(id)sets analyticsLogger:(id)logger;
- (void)handleE2EEMessageExpiration:(id)expiration;
- (void)handleMessageExpirationAt:(id)at;
- (void)handleMessageDeletionAt:(id)at;
- (void)handlePeriodicPurgeAt:(id)at;
- (BOOL)trimMessagesForThreads:(id)threads removedThreadIds:(id)ids userPk:(id)pk;
- (void)_rescheduleExpirationAndDeletionTasksIfNecessaryWithNextExpirationTimestamp:(id)timestamp nextDeletionTimestamp:(id)timestamp;
- (void)_queueNextPurgeTaskIfNecessaryWithTimestamp:(id)timestamp;
- (void)_queueTask:(id)task withMinExecutionTime:(id)time;
- (void)_handleExpiredIncomingMessageMetadata:(id)metadata;
- (void)_initiatePeriodicPurgeTaskIfNeeded;
- (void)_removeMessagesFromCacheWithExpiredMessagesMetadata:(id)metadata;
- (BOOL)_canRevokeInAppNotification:(id)notification messageClientId:(id)id messageServerId:(id)id;
- (BOOL)_isInstamadilloNotificationPayload:(id)payload;
@end

#endif /* IGDirectInstamadilloEphemeralityManager_h */
