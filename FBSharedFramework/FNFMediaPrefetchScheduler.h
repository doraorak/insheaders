//
//   Generated by https://github.com/blacktop/ipsw (Version: 3.1.468, BuildCommit: a1243d3a18f9b0e29af55a12ad74ccd2cd1f0abc)
//
//    - LC_BUILD_VERSION:  Platform: iOS, MinOS: 15.0, SDK: 17.4, Tool: ld (16.0)
//    - LC_SOURCE_VERSION: 
//
#ifndef FNFMediaPrefetchScheduler_h
#define FNFMediaPrefetchScheduler_h
@import Foundation;

#include "FNFMediaPrefetchSchedulerDelegate-Protocol.h"
#include "FNFMediaPrefetchScheduling-Protocol.h"
#include "FNFThreadsafeSet.h"

@class NSMutableArray, NSMutableDictionary, NSString;
@protocol OS_dispatch_queue;

@interface FNFMediaPrefetchScheduler : NSObject<FNFMediaPrefetchScheduling> {
  /* instance variables */
  NSObject<OS_dispatch_queue> *_queue;
  NSObject<FNFMediaPrefetchSchedulerDelegate> *_delegate;
  struct FNFMediaPrefetchSchedulerConfig { BOOL enableQPLEventLogging; BOOL enableCellSpecificTuning; } _config;
  struct FNFMediaPrefetchSchedulerQueueConfig { long long maxConcurrentUnknown; long long maxConcurrentPoor; long long maxConcurrentModerate; long long maxConcurrentGood; long long maxConcurrentExcellent; unsigned long long maxQueuedOperations; double staleOperationCutoffSeconds; } _queueConfig;
  NSMutableDictionary *_blockForKey;
  NSMutableDictionary *_addedTimestampForKey;
  NSMutableArray *_queuedKeys;
  NSMutableArray *_activeKeys;
  NSMutableArray *_shelfKeys;
  FNFThreadsafeSet *_allKeysSet;
  unsigned long long _maxConcurrent;
  unsigned long long _bandwidthQuality;
  struct FNFMediaPrefetchSchedulerDebugFlowHistory { unsigned long long addedCount; unsigned long long completedCount; unsigned long long staleRemovedCount; unsigned long long unableToAddCount; unsigned long long replaceKeyCount; } _flowHistory;
}

@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@optional
@property (readonly, copy) NSString *debugDescription;

/* instance methods */
- (id)initWithQueue:(id)queue delegate:(id)delegate config:(struct FNFMediaPrefetchSchedulerConfig { BOOL x0; BOOL x1; })config queueConfig:(struct FNFMediaPrefetchSchedulerQueueConfig { long long x0; long long x1; long long x2; long long x3; long long x4; unsigned long long x5; double x6; })config;
- (void)addPrefetch:(id)prefetch block:(id /* block */)block;
- (void)markPrefetchComplete:(id)complete;
- (BOOL)hasPrefetch:(id)prefetch;
- (unsigned long long)activePrefetchCount;
- (unsigned long long)queuedPrefetchCount;
- (unsigned long long)maxConcurrent;
- (void)replaceOldKey:(id)key withNewKey:(id)key;
- (void)shelfPrefetch:(id)prefetch;
- (void)unshelfPrefetch:(id)prefetch;
- (void)deleteShelfPrefetch:(id)prefetch;
- (unsigned long long)shelfPrefetchCount;
- (BOOL)canAddPrefetch;
- (void)_completeReplaceOldKey:(id)key withNewKey:(id)key;
- (void)_updateThenStartOperations;
- (void)_removeFirstStaleActiveOperation;
- (void)_startPrefetchesWhileSlotsAvailable;
- (BOOL)_hasOpenSlot;
- (void)_updateMaxConcurrentOperations;
- (void)_checkThreadSafety;
- (BOOL)_isDelegateAndSessionValid;
@end

#endif /* FNFMediaPrefetchScheduler_h */
