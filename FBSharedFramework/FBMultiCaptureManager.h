//
//   Generated by https://github.com/blacktop/ipsw (Version: 3.1.468, BuildCommit: a1243d3a18f9b0e29af55a12ad74ccd2cd1f0abc)
//
//    - LC_BUILD_VERSION:  Platform: iOS, MinOS: 15.0, SDK: 17.4, Tool: ld (16.0)
//    - LC_SOURCE_VERSION: 
//
#ifndef FBMultiCaptureManager_h
#define FBMultiCaptureManager_h
@import Foundation;

#include "AVCaptureVideoDataOutputSampleBufferDelegate-Protocol.h"
#include "FBARCameraCapabilitiesProviding-Protocol.h"
#include "FBAVAudioDataProducer.h"
#include "FBAVPOIDataProducer.h"
#include "FBAVVideoDataProducer.h"
#include "FBCameraAudioLevelListenerAnnouncer.h"
#include "FBCameraCaptureFrameDropQueuedAnnouncer.h"
#include "FBCameraCaptureManagingProducerPorts.h"
#include "FBCameraProductionDebugLogger.h"
#include "FBCaptureCameraController-Protocol.h"
#include "FBCaptureConnectionManager.h"
#include "FBCaptureDevice.h"
#include "FBCaptureDeviceStateController.h"
#include "FBCaptureFlashSceneDetector.h"
#include "FBCaptureLowLightDetector.h"
#include "FBCaptureManagerEventQueuedAnnouncer.h"
#include "FBCaptureManagerFlashSceneEventQueuedAnnouncer.h"
#include "FBCaptureManagerPOIDetectorEventQueuedAnnouncer.h"
#include "FBCapturePOIDetector.h"
#include "FBCaptureSession.h"
#include "FBFramePerformanceTracker.h"
#include "FBMPCameraCaptureInput-Protocol.h"
#include "FBOrientationTracking-Protocol.h"
#include "FBSystemCaptureDeviceObserver.h"

@class AVCaptureAudioDataOutput, AVCaptureDevice, AVCaptureDeviceInput, AVCapturePhotoOutput, AVCaptureVideoPreviewLayer, NSArray, NSDictionary, NSMutableDictionary, NSNumber, NSString;
@protocol FBAudioCapturerProtocol><AVCaptureAudioDataOutputSampleBufferDelegate><FBCCAudioPipelineCapturing, FBCCAudioCaptureControlling, FBCCMediaEventWaterfallLogging, FBCCPerformanceLogger, FBCCWaterfallLoggingComponent, FBCameraAnalyticsPayloadProviding, FBCaptureDeviceFormatProvider, FBCaptureVideoSessionControlling, FBDepthDataManager, FBMPProducerPort, FBSystemAudioCaptureSessionInteracting, OS_dispatch_queue;

@interface FBMultiCaptureManager : NSObject<AVCaptureVideoDataOutputSampleBufferDelegate, FBMPCameraCaptureInput, FBCaptureCameraController, FBARCameraCapabilitiesProviding> {
  /* instance variables */
  FBCaptureManagerEventQueuedAnnouncer *_eventAnnouncer;
  FBCaptureManagerPOIDetectorEventQueuedAnnouncer *_poiDetectorAnnouncer;
  FBCaptureManagerFlashSceneEventQueuedAnnouncer *_flashSceneAnnouncer;
  NSObject<OS_dispatch_queue> *_audioBufferQueue;
  AVCaptureAudioDataOutput *_audioDataOutput;
  AVCaptureDeviceInput *_audioDeviceInput;
  NSObject<FBAudioCapturerProtocol><AVCaptureAudioDataOutputSampleBufferDelegate><FBCCAudioPipelineCapturing> *_audioCapturer;
  FBAVAudioDataProducer *_audioDataProducer;
  NSObject<FBSystemAudioCaptureSessionInteracting> *_systemAudioCaptureSessionInteractor;
  NSObject<FBCaptureDeviceFormatProvider> *_captureDeviceFormatProvider;
  NSObject<OS_dispatch_queue> *_sessionQueue;
  NSObject<OS_dispatch_queue> *_audioSessionQueue;
  NSObject<OS_dispatch_queue> *_videoBufferQueue;
  NSObject<OS_dispatch_queue> *_videoDataOutputQueue;
  FBAVVideoDataProducer *_videoDataProducer;
  FBAVPOIDataProducer *_POIDataProducer;
  NSString *_mainConnectionIdentifier;
  FBCaptureConnectionManager *_captureConnectionManager;
  FBCaptureDeviceStateController *_captureDeviceStateController;
  struct FBCameraConfiguration { BOOL shouldFrontCameraVideoMirrored; BOOL multitaskingCameraAccessEnabled; long long startingDevicePosition; long long initialFlashMode; NSString *initialSessionPreset; BOOL retainSinglePreviewLayerWhenSwitchCaptureSession; BOOL retainMultiPreviewLayersWhenSwitchCaptureSession; BOOL useSingleCaptureDeviceAsDefaultCameraPosition; unsigned char initialTargetFPS; BOOL audioCaptureIgnoreRTCClientNotification; BOOL automaticallyConfiguresApplicationAudioSession; BOOL canPreConfigureAudioSession; BOOL shouldRemoveInputsAndOutputsWhenStopped; BOOL enableEchoCancellation; BOOL videoBufferTransformEnabled; long long videoStabilizationMode; BOOL setVideoStabilizationModeAfterStart; BOOL subjectAreaChangeMonitoring; float lowLightDetectionThreshold; float lowLightExposureBias; struct FBBracketedCaptureConfiguration { NSArray *exposureValues; undefined *resolverFunction; BOOL enabled; BOOL autoEnhanceEnabled; unsigned long long downsampleWidth; } bracketedCaptureConfiguration; double maxZoomFactor; BOOL ultraWideCameraSupport; BOOL preserveZoomFactorsDuringCameraSession; BOOL keepAudioSessionActiveDuringCameraSession; BOOL markAVWriterInputsAsFinishedWhenRecordingStops; id /* block */ disableARKitCacheBlock; struct CGSize { double width; double height; } preferredWorldTrackingResolution; BOOL planeDetectionEnabled; BOOL produceWorldTrackingFrames; BOOL worldTrackingAlignmentGravity; BOOL lowLightDetectorEnabled; BOOL flashSceneDetectorEnabled; BOOL audioCaptureEnabled; BOOL audioOnlyCapture; NSArray *preferredCaptureDeviceTypes; NSArray *captureDevices; NSArray *multiCaptureDevices; BOOL useLatestCaptureDevices; unsigned int photoPixelFormat; unsigned int initialCaptureVideoDataOutputPixelFormatType; struct FBCaptureAutoExposureConfiguration { BOOL enableAutoExposureOnTrackedObjects; BOOL trackVisibleFaces; BOOL trackVisibleBodies; BOOL trackVisibleCats; BOOL trackVisibleDogs; BOOL trackQRCodes; } autoExposureConfiguration; struct FBCapturePOIDetectorConfiguration { long long detectorType; double executionTimeInterval; double minimumBoundsChange; BOOL drawDebugBounds; } detectorConfiguration; BOOL fbAudioEnabled; NSArray *photoCapturePlugins; BOOL useFBMultiCaptureManager; BOOL enableMultiCapture; struct CGSize { double width; double height; } customizedCapturedPhotoResolution; struct FBPhotoCaptureConfiguration { BOOL stillImageCaptureEnabled; BOOL isFlipFrontCameraOutputEnabled; BOOL stopLivePreviewOnPhotoCapture; BOOL delayImageCaptureWhileAdjustingCamera; BOOL setFlashModeOnPhotoSettingsForSceneMonitoring; unsigned long long setMaxPhotoQualityPrioritization; } photoCaptureConfiguration; BOOL enableSceneDepth; BOOL livePhotoEnabled; BOOL includeTrackingDataInVideoData; struct FBCameraSimulationConfiguration { id /* block */ videoFilePathProvider; id /* block */ imageFilePathProvider; BOOL enableLocalVideoFileInput; BOOL enableLocalVideoFileAudioHandling; BOOL endlessPlaybackEnabled; } cameraSimulationConfiguration; BOOL stereoEnabled; BOOL forceARKit; BOOL pauseResumeOnAsyncSessionQueue; struct FBRecordingConfiguration { id /* block */ depthRecordingHandler; id /* block */ poseRecordingHandler; BOOL shouldCaptureWithRecordingTimestamps; struct { long long value; int timescale; unsigned int flags; long long epoch; } maximumDuration; BOOL useCaptureVideoDataOutputRecommendedVideoSettings; } recordingConfiguration; BOOL enableSetWorldMapForWorldTracking; BOOL enableMETACaptureManagerConvergence; BOOL enableControlPanel; int maxExposureDurationMs; BOOL doNotSetVideoSettings; isARKitAudioDataRequired *videoFormat; BOOL x0; int captureInfoLoggingFrameInterval; BOOL isARFrameRotationDisabled; } _configuration;
  FBCaptureLowLightDetector *_lowLightDetector;
  FBCaptureFlashSceneDetector *_flashSceneDetector;
  FBCapturePOIDetector *_POIDetector;
  FBSystemCaptureDeviceObserver *_systemCaptureDeviceObserver;
  double _defaultDisplayBrightness;
  NSString *_normalLightPreset;
  long long _designatedCameraDeviceFPS;
  NSNumber *_hasTrueDepthCamera;
  AVCaptureVideoPreviewLayer *_mainVideoPreviewLayer;
  NSObject<FBDepthDataManager> *_depthDataManager;
  BOOL _isCaptureSessionFinishedLoading;
  BOOL _hasSessionStartInvoked;
  BOOL _hasSessionStopRequestCompleted;
  BOOL _isSkipFilterRendering;
  NSMutableDictionary *_lastUsedZoomFactors;
  id /* block */ _audioDataOutputFactory;
  id /* block */ _audioDeviceInputFactory;
  id /* block */ _cameraAccessChecker;
  NSObject<FBCCWaterfallLoggingComponent> *_waterfallLoggingComponent;
  NSObject<FBCCMediaEventWaterfallLogging> *_waterfallLogger;
  FBCameraProductionDebugLogger *_debugLogger;
  FBFramePerformanceTracker *_framePerformanceTracker;
  FBFramePerformanceTracker *_framePerformanceTrackerForWaterfall;
  NSObject<FBCCPerformanceLogger> *_performanceLogger;
  long long _frameIndex;
}

@property long long currentVideoOrientation;
@property (retain, nonatomic) FBCaptureSession *videoCaptureSession;
@property (nonatomic) unsigned long long requestedCameraCapabilities;
@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@optional
@property (readonly, copy) NSString *debugDescription;
@property (readonly, nonatomic) struct OpaqueCMClock * videoSessionClock;
@property (readonly, nonatomic) BOOL videoSessionRunning;
@property (readonly, nonatomic) struct OpaqueCMClock * audioSessionClock;
@property (readonly, nonatomic) BOOL audioCaptureRunning;
@property (nonatomic) BOOL audioCaptureIgnoreRTCClientNotification;
@property (readonly, nonatomic) NSObject<FBCaptureVideoSessionControlling> *videoSessionController;
@property (readonly, nonatomic) NSObject<FBCCAudioCaptureControlling> *audioPipelineController;
@property (readonly, nonatomic) NSObject<FBCameraAnalyticsPayloadProviding> *analyticsPayloadProvider;
@property (readonly, nonatomic) FBCameraCaptureFrameDropQueuedAnnouncer *frameDropAnnouncer;
@property (readonly, nonatomic) NSObject<FBOrientationTracking> *orientationTracker;
@property (readonly, nonatomic) NSObject<FBMPProducerPort> *videoProducerPort;
@property (readonly, nonatomic) NSObject<FBMPProducerPort> *audioProducerPort;
@property (readonly, nonatomic) NSObject<FBMPProducerPort> *userInterfacePort;
@property (readonly, nonatomic) NSObject<FBMPProducerPort> *worldTrackingFramePort;
@property (readonly, nonatomic) NSObject<FBMPProducerPort> *platformAlgorithmDataPort;
@property (readonly, copy, nonatomic) NSArray *producerPorts;
@property (readonly, nonatomic) struct { float x0; float x1; struct { long long x0; int x1; unsigned int x2; long long x3; } x2; struct { long long x0; int x1; unsigned int x2; long long x3; } x3; float x4; float x5; } validExposureValues;
@property (readonly, nonatomic) double maxZoomFactor;
@property (readonly, nonatomic) BOOL isVideoHDREnabled;
@property (readonly, nonatomic) FBCaptureDevice *currentDevice;
@property (readonly, nonatomic) AVCaptureDevice *currentSystemCaptureDevice;
@property (readonly, nonatomic) AVCapturePhotoOutput *currentCapturePhotoOutput;
@property (readonly, nonatomic) struct { float x0; struct { long long x0; int x1; unsigned int x2; long long x3; } x1; long long x2; float x3; float x4; } exposureInfo;
@property (readonly, nonatomic) struct OpaqueCMClock * captureSessionClock;
@property (readonly, nonatomic) NSDictionary *recommendedVideoSettingsForAssetWriter;
@property (readonly, nonatomic) BOOL adjustingCameraSettings;
@property (readonly, nonatomic) FBCameraAudioLevelListenerAnnouncer *cameraAudioLevelAnnouncer;
@property (readonly, nonatomic) unsigned long long supportedCameraCapabilities;

/* instance methods */
- (id)initWithCameraConfiguration:(const struct FBCameraConfiguration *)configuration orientationTracker:(id)tracker eventAnnouncer:(id)announcer frameDropAnnouncer:(id)announcer poiDetectorAnnouncer:(id)announcer flashSceneAnnouncer:(id)announcer captureSession:(id)session cameraWaterfallLogger:(id)logger framePerformanceTracker:(id)tracker framePerformanceTrackerForWaterfall:(id)waterfall analyticsPayloadProvider:(id)provider systemAudioCaptureSessionInteractor:(id)interactor audioPipelineProviding:(id)providing performanceLogger:(id)logger;
- (id)initWithCameraConfiguration:(const struct FBCameraConfiguration *)configuration orientationTracker:(id)tracker eventAnnouncer:(id)announcer frameDropAnnouncer:(id)announcer poiDetectorAnnouncer:(id)announcer flashSceneAnnouncer:(id)announcer captureSession:(id)session cameraWaterfallLogger:(id)logger framePerformanceTracker:(id)tracker framePerformanceTrackerForWaterfall:(id)waterfall analyticsPayloadProvider:(id)provider producerPorts:(id)ports captureDeviceStateController:(id)controller systemAudioCaptureSessionInteractor:(id)interactor audioPipelineProviding:(id)providing requestedCameraCapabilities:(unsigned long long)capabilities performanceLogger:(id)logger audioDataOutputFactory:(id /* block */)factory cameraAccessChecker:(id /* block */)checker audioCapturer:(id)capturer audioDeviceInputFactory:(id /* block */)factory;
- (void)dealloc;
- (void)_scheduleOnSessionQueueFromSource:(id)source block:(id /* block */)block;
- (void)_scheduleOnAudioSessionQueueFromSource:(id)source block:(id /* block */)block;
- (void)addCaptureManagerListener:(id)listener;
- (void)removeCaptureManagerListener:(id)listener;
- (void)addCapturePOIDetectorListener:(id)listener;
- (void)removeCapturePOIDetectorListener:(id)listener;
- (void)setPhotoOutputListener:(id)listener;
- (void)performCameraAction:(id)action;
- (void)performCameraAction:(id)action completionQueue:(id)queue completion:(id /* block */)completion;
- (void)updatePreviewOrientation;
- (id)videoPreviewLayer;
- (id)previewLayerForPosition:(long long)position;
- (id)previewLayerForDevice:(id)device;
- (BOOL)isDepthCameraSupported;
- (BOOL)isDepthCameraEnabled;
- (void)injectDepthDataManager:(id)manager;
- (void)synchronizeDepthAndVideoFrameRate:(long long)rate;
- (void)announceSynchronizedVideoBufferFrameDropAt:(struct { long long x0; int x1; unsigned int x2; long long x3; })at reason:(id)reason;
- (void)handleVideoSampleBuffer:(struct opaqueCMSampleBuffer *)buffer depthData:(id)data fromConnection:(id)connection;
- (void)requestChangeToCameraCapabilities:(unsigned long long)capabilities completionQueue:(id)queue completion:(id /* block */)completion;
- (BOOL)_setCaptureDevices:(id)devices;
- (BOOL)_updateCameraOrientationWithVideoOrientation:(long long)orientation;
- (void)_updateDeviceConfigurationForConnection:(id)connection;
- (id)mainCaptureDevice;
- (id)mainCaptureDeviceInput;
- (id)photoCaptureOutput;
- (id)mainPhotoCaptureOutput;
- (id)_videoDataOutputForConnectionIdentifier:(id)identifier;
- (void)fetchVideoFieldOfViewWithCompletion:(id /* block */)completion;
- (BOOL)isAdjustingCameraSettings;
- (double)supportedZoomFactorFromZoomFactor:(double)factor;
- (BOOL)isZoomFactorSupported:(double)supported;
- (BOOL)isTorchModeSupported:(long long)supported;
- (BOOL)isFocusModeSupported:(long long)supported;
- (BOOL)isExposureModeSupported:(long long)supported;
- (BOOL)canUpdateCaptureDevicePosition:(long long)position;
- (BOOL)currentDeviceSupportsCaptureSessionPreset:(id)preset;
- (BOOL)supportsCaptureSessionPreset:(id)preset cameraPosition:(long long)position;
- (void)handleAudioSampleBuffer:(struct opaqueCMSampleBuffer *)buffer averagePowerLevel:(float)level;
- (void)captureOutput:(id)output didDropSampleBuffer:(struct opaqueCMSampleBuffer *)buffer fromConnection:(id)connection;
- (void)captureOutput:(id)output didOutputSampleBuffer:(struct opaqueCMSampleBuffer *)buffer fromConnection:(id)connection;
- (long long)_trackerTargetFPS;
- (void)performImageCaptureWithAction:(id)action;
- (BOOL)isAudioCaptureRunning;
- (void)warmupAudioSession;
- (void)createAudioPipelineIfNecessaryAndResume;
- (void)pauseAudioPipeline;
- (void)destroyAudioPipeline;
- (void)startAudioCaptureWithEchoCancellationEnabled:(BOOL)enabled shouldStereoCaptureBeEnabled:(BOOL)enabled completion:(id /* block */)completion;
- (void)stopAudioCaptureWithCompletion:(id /* block */)completion;
- (void)_stopAudioSession;
- (void)enableEditingMicrophoneVolume:(BOOL)volume volumeMultiplier:(double)multiplier;
- (void)setSpeakerMuted:(BOOL)muted;
- (void)setSpeakerDefaultMuted:(BOOL)muted;
- (BOOL)isSpeakerMuted;
- (BOOL)isVideoSessionRunning;
- (void)pauseSession;
- (void)resumeSession;
- (void)restartVideoSession;
- (void)_updateDefaultVideoOrientationAndMirrorSettingForConnection:(id)connection;
- (void)_setMainCaptureDevice:(id)device previousCaptureDevice:(id)device announceUpdates:(BOOL)updates;
- (void)setCaptureDeviceFormatProvider:(id)provider;
- (void)invalidateCaptureDeviceFormat;
- (void)_subjectAreaDidChange:(id)change;
- (void)startCameraCaptureSessionWithType:(unsigned char)type context:(id)context videoPortConnections:(unsigned long long)connections deviceConfiguration:(id)configuration initialCameraAction:(id)action completionQueue:(id)queue completion:(id /* block */)completion;
- (void)pauseCameraCaptureSession;
- (void)setPhotoCaptureConfiguration:(struct FBPhotoCaptureConfiguration *)configuration;
- (void)setBracketedCaptureEnabled:(BOOL)enabled;
- (void)setLivePhotoEnabled:(BOOL)enabled;
- (void)restartSimulatedMediaInput;
- (void)sessionWillStart:(id)start;
- (void)sessionWillStop:(id)stop;
- (void)sessionWillStop:(id)stop stopAudio:(BOOL)audio;
- (void)sessionConnectedPort:(id)port context:(id)context;
- (void)sessionDisconnectedPort:(id)port context:(id)context;
- (void)invalidate;
- (void)captureSession:(id)session didBecomeInterruptedWithReason:(unsigned char)reason;
- (void)captureSessionDidResignInterrupted:(id)interrupted;
- (void)captureSessionWillStartRunning:(id)running;
- (void)captureSessionDidStartRunning:(id)running;
- (void)captureSessionFailedToStartRunning:(id)running error:(id)error;
- (void)captureSessionWillStopRunning:(id)running;
- (void)captureSessionDidStopRunning:(id)running;
- (void)captureSession:(id)session didEncounterRuntimeError:(id)error willRetry:(BOOL)retry;
- (void)didEncounterAudioPipelineRuntimeError:(id)error;
- (void)lowLightDetector:(id)detector didChangeToCondition:(long long)condition;
- (void)flashSceneDetector:(id)detector didUpdateFlashScene:(BOOL)scene;
- (void)warmupCameraSystemResources;
- (struct ARPointTrackable { undefined * * x0; struct Matrix<float, 4, 4, 0, 4, 4> { struct DenseStorage<float, 16, 4, 4, 0> { struct plain_array<float, 16, 0, 16> { float x0[16] } x0; } x0; } x1; struct uuid { unsigned char x0[16] } x2; struct shared_timed_mutex { struct __shared_mutex_base { struct mutex { struct _opaque_pthread_mutex_t { long long x0; char x1[56] } x0; } x0; struct condition_variable { struct _opaque_pthread_cond_t { long long x0; char x1[40] } x0; } x1; struct condition_variable { struct _opaque_pthread_cond_t { long long x0; char x1[40] } x0; } x2; unsigned int x3; } x0; } x3; struct basic_string<char, std::char_traits<char>, std::allocator<char>> { struct __compressed_pair<std::basic_string<char>::__rep, std::allocator<char>> { struct __rep { union { struct __long { char * x0; unsigned long long x1; unsigned int x2 :63; unsigned int x3 :1; } x0; struct __short { char x0[23] unsigned char x1[0] unsigned int x2 :7; unsigned int x3 :1; } x1; struct __raw { unsigned long long x0[3] } x2; } x0; } x0; } x0; } x4; BOOL x5; })addSLAMPointTrackable:(const void *)trackable;
- (void)removeSLAMTrackable:(const void *)slamtrackable;
- (void)removeAllSLAMTrackables;
- (struct future<std::vector<facebook::artech::anchorservice::datawrappers::HitTestResultData>> { void * x0; })hitTestWithPoint:(const void *)point typeOption:(const void *)option;
- (void)getWorldMapWithSnapshotImage:(id)image completionHandler:(id /* block */)handler;
- (void)setWorldMap:(id)map completionHandler:(id /* block */)handler;
- (void)addListener:(id)listener;
- (void)captureConnectionManangerSystemPressureLevelDidChange:(id)change;
- (void)captureConnectionManagerReactionEffectTriggered:(id)triggered;
@end

#endif /* FBMultiCaptureManager_h */
