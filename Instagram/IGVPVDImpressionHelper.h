//
//   Generated by https://github.com/blacktop/ipsw (Version: 3.1.468, BuildCommit: a1243d3a18f9b0e29af55a12ad74ccd2cd1f0abc)
//
//    - LC_BUILD_VERSION:  Platform: iOS, MinOS: 15.0, SDK: 17.4, Tool: ld (16.0)
//    - LC_SOURCE_VERSION: 
//
#ifndef IGVPVDImpressionHelper_h
#define IGVPVDImpressionHelper_h
@import Foundation;

#include "IGFeedItemLoggingProviderDelegate-Protocol.h"
#include "IGFeedVPVDLoggerFalcoLoggerExperiments.h"
#include "IGStoryMediaLoadingState.h"
#include "IGStoryViewerIndexLoggingHelper.h"
#include "IGVPVDAdImpressionInfo.h"
#include "IGVPVDImpressionHelperDelegate-Protocol.h"
#include "IGVPVDImpressionItem.h"

@class FBMerlinManager, IGMedia, IGSponsoredSupportConfiguration, IGUserSession, NSArray, NSDictionary, NSMutableDictionary, NSString;
@protocol IGMerlinViewpointDataProvider;

@interface IGVPVDImpressionHelper : NSObject {
  /* instance variables */
  IGVPVDImpressionItem *_impressionItem;
  IGUserSession *_userSession;
  NSString *_module;
  BOOL _ignoreVPVDThreshold;
  BOOL _doubleLoggingEnabled;
  BOOL _isSegmentedItem;
  IGSponsoredSupportConfiguration *_sponsoredSupportConfiguration;
  NSObject<IGFeedItemLoggingProviderDelegate> *_loggingDelegate;
  IGStoryMediaLoadingState *_mediaLoadingState;
  IGStoryViewerIndexLoggingHelper *_storyPogImpressionLoggingHelper;
  NSDictionary *_extras;
  NSString *_navChainOnViewpointEnter;
  NSString *_navChainWithBestConfidence;
  BOOL _isMerlinEnabled;
  NSMutableDictionary *_merlinVisibilityMap;
  NSArray *_merlinAllowedModules;
  NSMutableDictionary *_impressionTypeMap;
  BOOL _shouldLogImpressionViewMetadata;
  BOOL _isMerlinSecondChannelEnabled;
  BOOL _isNavChainEnabledInNetego;
  NSString *_merlinSecondChannelDetectionFramework;
  IGVPVDAdImpressionInfo *_adImpressionInfo;
  IGFeedVPVDLoggerFalcoLoggerExperiments *_loggerExperiments;
  IGMedia *_collapsedThreadsMedia;
  NSObject<IGMerlinViewpointDataProvider> *_merlinDataProvider;
  struct { struct { BOOL isVisible; BOOL is50PctVisible; BOOL is100PctVisible; } state; struct { BOOL isVisible; BOOL is50PctVisible; BOOL is100PctVisible; } nestedContentState; } _merlinVisibilityStateCollection;
  FBMerlinManager *_merlinManager;
  id /* block */ _onEnter;
  id /* block */ _onExit;
  struct { BOOL isPaged; BOOL isTall; double viewWidth; double viewHeight; } _impressionViewMetadata;
}

@property (readonly, nonatomic) double maxDuration;
@property (readonly, nonatomic) double sumDuration;
@property (readonly, nonatomic) double legacyDuration;
@property (readonly, nonatomic) double startTime;
@property (readonly, nonatomic) double startTimeLegacy;
@property (weak, nonatomic) NSObject<IGVPVDImpressionHelperDelegate> *delegate;
@property (nonatomic) BOOL ignoreUpdatingSeenState;

/* instance methods */
- (id)initWithMedia:(id)media userSession:(id)session module:(id)module loggingDelegate:(id)delegate storyMediaLoadingState:(id)state storyPogImpressionLoggingHelper:(id)helper extras:(id)extras sponsoredSupportConfiguration:(id)configuration;
- (id)initWithMedia:(id)media userSession:(id)session module:(id)module loggingDelegate:(id)delegate sponsoredSupportConfiguration:(id)configuration extras:(id)extras loggerExperiments:(id)experiments;
- (id)initWithMedia:(id)media userSession:(id)session module:(id)module loggingDelegate:(id)delegate merlinManager:(id)manager isMerlinEnabled:(BOOL)enabled merlinAllowedModules:(id)modules storyMediaLoadingState:(id)state storyPogImpressionLoggingHelper:(id)helper extras:(id)extras sponsoredSupportConfiguration:(id)configuration adImpressionInfo:(id)info;
- (id)initWithMedia:(id)media userSession:(id)session module:(id)module loggingDelegate:(id)delegate merlinManager:(id)manager extras:(id)extras sponsoredSupportConfiguration:(id)configuration merlinDataProvider:(id)provider;
- (id)initWithMedia:(id)media userSession:(id)session module:(id)module loggingDelegate:(id)delegate extras:(id)extras sponsoredSupportConfiguration:(id)configuration ignoreVPVDThresholdForTesting:(BOOL)testing;
- (id)initWithLiveBroadcastPk:(id)pk userSession:(id)session module:(id)module extras:(id)extras;
- (id)initWithNetegoId:(id)id userSession:(id)session module:(id)module extras:(id)extras;
- (id)initWithNetegoId:(id)id userSession:(id)session module:(id)module extras:(id)extras merlinManager:(id)manager merlinAllowedModules:(id)modules;
- (id)initWithCollapsedMedia:(id)media attachedToMedia:(id)media userSession:(id)session module:(id)module loggingDelegate:(id)delegate sponsoredSupportConfiguration:(id)configuration extras:(id)extras loggerExperiments:(id)experiments;
- (id)createMerlinUpdateV2ViewpointAction;
- (id)createMerlinMeasureV2ViewpointAction;
- (BOOL)_updateVisibilityState:(id)state visibilityState:(struct  *)state;
- (void)_updateSeenStateOfMedia:(id)media;
@end

#endif /* IGVPVDImpressionHelper_h */
