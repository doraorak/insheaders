//
//   Generated by https://github.com/blacktop/ipsw (Version: 3.1.468, BuildCommit: a1243d3a18f9b0e29af55a12ad74ccd2cd1f0abc)
//
//    - LC_BUILD_VERSION:  Platform: iOS, MinOS: 15.0, SDK: 17.4, Tool: ld (16.0)
//    - LC_SOURCE_VERSION: 
//
#ifndef FB_RTCVideoDecoderH264_h
#define FB_RTCVideoDecoderH264_h
@import Foundation;

#include "FB_RTCVideoDecoder-Protocol.h"

@class NSString;
@protocol {H264BitstreamParser="_vptr$BitstreamParser"^^?"sps_"{optional<webrtc_legacy::SpsParser::SpsState>=""(?="__null_state_"c"__val_"{SpsState="profile_idc"C"width"I"height"I"delta_pic_order_always_zero_flag"I"separate_colour_plane_flag"I"frame_mbs_only_flag"I"log2_max_frame_num"I"log2_max_pic_order_cnt_lsb"I"pic_order_cnt_type"I"max_num_ref_frames"I"vui_params_present"I"id"I"gaps_in_frame_num_value_allowed_flag"I"gaps_in_frame_num_byte_offset"Q"gaps_in_frame_num_bit_offset"Q})"__engaged_"B}"pps_"{optional<webrtc_legacy::PpsParser::PpsState>=""(?="__null_state_"c"__val_"{PpsState="bottom_field_pic_order_in_frame_present_flag"B"weighted_pred_flag"B"entropy_coding_mode_flag"B"weighted_bipred_idc"I"redundant_pic_cnt_present_flag"I"pic_init_qp_minus26"i"id"I"sps_id"I})"__engaged_"B}"last_slice_qp_delta_"{optional<int>=""(?="__null_state_"c"__val_"i)"__engaged_"B}};

@interface FB_RTCVideoDecoderH264 : NSObject<FB_RTCVideoDecoder> {
  /* instance variables */
  unsigned char profileIdc_;
  struct opaqueCMFormatDescription * _videoFormat;
  struct OpaqueCMMemoryPool * _memoryPool;
  struct OpaqueVTDecompressionSession * _decompressionSession;
  id /* block */ _callback;
  int _error;
  struct H264BitstreamParser { undefined * *_vptr$BitstreamParser; struct optional<webrtc_legacy::SpsParser::SpsState> { union { char __null_state_; struct SpsState { unsigned char profile_idc; unsigned int width; unsigned int height; unsigned int delta_pic_order_always_zero_flag; unsigned int separate_colour_plane_flag; unsigned int frame_mbs_only_flag; unsigned int log2_max_frame_num; unsigned int log2_max_pic_order_cnt_lsb; unsigned int pic_order_cnt_type; unsigned int max_num_ref_frames; unsigned int vui_params_present; unsigned int id; unsigned int gaps_in_frame_num_value_allowed_flag; unsigned long long gaps_in_frame_num_byte_offset; unsigned long long gaps_in_frame_num_bit_offset; } __val_; } x0; BOOL __engaged_; } sps_; struct optional<webrtc_legacy::PpsParser::PpsState> { union { char __null_state_; struct PpsState { BOOL bottom_field_pic_order_in_frame_present_flag; BOOL weighted_pred_flag; BOOL entropy_coding_mode_flag; unsigned int weighted_bipred_idc; unsigned int redundant_pic_cnt_present_flag; int pic_init_qp_minus26; unsigned int id; unsigned int sps_id; } __val_; } x0; BOOL __engaged_; } pps_; struct optional<int> { union { char __null_state_; int __val_; } x0; BOOL __engaged_; } last_slice_qp_delta_; } _h264BitstreamParser;
  BOOL _av1Decode;
  struct AV1ObuStreamParser { BOOL seq_hdr_valid_; struct AV1SequenceHeader { unsigned int reduced_still_picture_header; unsigned int decoder_model_info_present_flag; unsigned int frame_presentation_time_length_minus_1; unsigned int seq_force_screen_content_tools; unsigned int equal_picture_interval; unsigned int frame_id_numbers_present_flag; unsigned int seq_profile; unsigned int seq_level_idx_0; unsigned int seq_tier_0; unsigned int high_bitdepth; unsigned int twelve_bit; unsigned int monochrome; unsigned int chroma_subsampling_x; unsigned int chroma_subsampling_y; unsigned int chroma_sample_position; unsigned int initial_presentation_delay_present; unsigned int initial_presentation_delay_minus_one; unsigned int frame_width_bits_minus_1; unsigned int frame_height_bits_minus_1; unsigned int max_frame_width_minus_1; unsigned int max_frame_height_minus_1; unsigned int order_hint_bits; unsigned int additional_frame_id_length_minus_1; unsigned int delta_frame_id_length_minus_2; unsigned int seq_force_integer_mv; unsigned int buffer_removal_time_length_minus_1; unsigned int enable_order_hint; unsigned int enable_superres; unsigned int operating_points_cnt_minus_1; unsigned int x[32] operating_point_idc; unsigned int x[32] decoder_model_present_for_this_op; } latest_seq_hdr_; BOOL frame_hdr_valid_; struct AV1FrameHeader { unsigned int frame_width; unsigned int frame_height; } latest_frame_hdr_; char *lastest_av1c_; unsigned long long lastest_av1c_size_; struct AV1RefPicContext { unsigned int x[8] RefUpscaledWidth; unsigned int x[8] RefFrameWidth; unsigned int x[8] RefFrameHeight; unsigned int x[8] RefRenderWidth; unsigned int x[8] RefRenderHeight; unsigned int x[8] RefFrameType; unsigned int x[8] RefValid; unsigned int x[8] RefOrderHint; unsigned int x[8] OrderHints; } ref_pic_context_; } _av1Parser;
}

@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@optional
@property (readonly, copy) NSString *debugDescription;

/* instance methods */
- (id)init;
- (void)dealloc;
- (id)initWithSetting:(BOOL)setting;
- (long long)startDecodeWithNumberOfCores:(int)cores;
- (long long)decode:(id)decode missingFrames:(BOOL)frames codecSpecificInfo:(id)info renderTimeMs:(long long)ms;
- (void)setCallback:(id /* block */)callback;
- (void)setError:(int)error;
- (long long)releaseDecoder;
- (int)resetDecompressionSession;
- (void)configureDecompressionSession;
- (void)destroyDecompressionSession;
- (void)setVideoFormat:(struct opaqueCMFormatDescription *)format;
- (id)implementationName;
- (int)AV1ObuBufferToCMSampleBuffer:(char *)buffer inputImageSize:(unsigned long long)size sampleBufferRef:(struct opaqueCMSampleBuffer * *)ref;
- (struct opaqueCMFormatDescription *)CreateAV1VideoFormatDescription:(char *)description inputImageSize:(unsigned long long)size frameWidth:(unsigned int *)width frameHeight:(unsigned int *)height;
@end

#endif /* FB_RTCVideoDecoderH264_h */
