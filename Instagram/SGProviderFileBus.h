//
//   Generated by https://github.com/blacktop/ipsw (Version: 3.1.468, BuildCommit: a1243d3a18f9b0e29af55a12ad74ccd2cd1f0abc)
//
//    - LC_BUILD_VERSION:  Platform: iOS, MinOS: 15.0, SDK: 17.4, Tool: ld (16.0)
//    - LC_SOURCE_VERSION: 
//
#ifndef SGProviderFileBus_h
#define SGProviderFileBus_h
@import Foundation;

#include "FBAssistantConsoleLogging-Protocol.h"
#include "SGFileDeletionTracker.h"
#include "SGProviderFileBusPersistedSettingsHandling-Protocol.h"

@class NSHashTable, NSMutableDictionary, NSMutableSet, NSURL;

@interface SGProviderFileBus : NSObject {
  /* instance variables */
  unsigned long long _hostApp;
  NSURL *_hostAppFolder;
  NSMutableDictionary *_fileWatcherStates;
  NSObject<FBAssistantConsoleLogging> *_consoleLogger;
  NSMutableSet *_alreadyProcessedFiles;
  SGFileDeletionTracker *_tracker;
  BOOL _mustBreakProcess;
  BOOL _isProcessingContents;
  BOOL _didRequestProcessingWhileProcessingContents;
  BOOL _isMainApp;
  NSObject<SGProviderFileBusPersistedSettingsHandling> *_persistedSettingsHandler;
}

@property (retain, nonatomic) NSHashTable *delegates;

/* class methods */
+ (unsigned long long)_fileWriteOptions;
+ (void)_createFilePrefixes;
+ (unsigned long long)_sourceAppFromFileName:(id)name;
+ (id)_folderUrlForProvider:(unsigned long long)provider consoleLogger:(id)logger;
+ (BOOL)unlink:(unsigned long long)unlink consoleLogger:(id)logger;
+ (void)purgeIntents:(unsigned long long)intents consoleLogger:(id)logger;

/* instance methods */
- (id)initForHostApp:(unsigned long long)app consoleLogger:(id)logger isMainApp:(BOOL)app delegate:(id)delegate persistedSettingsHandler:(id)handler;
- (void)dealloc;
- (BOOL)sendMessage:(id)message targetApp:(unsigned long long)app;
- (BOOL)sendMessage:(id)message targetApp:(unsigned long long)app completion:(id /* block */)completion;
- (void)appendDelegate:(id)delegate;
- (id)getCopyDelegates;
- (void)cleanUpWhenFirstLaunchAfterFreshInstall;
- (id)_loadDataFromUrl:(id)url;
- (void)didUpdateContents:(id)contents updatedContents:(id)contents;
- (id)prefixFromHostApp:(unsigned long long)app;
- (BOOL)_isWatchingFolder:(id)folder;
- (void)_stopWatchingFolder:(id)folder;
- (void)_startWatchingFolder:(id)folder block:(id /* block */)block;
- (BOOL)_saveDataToFile:(id)file targetProvider:(unsigned long long)provider withExtension:(id)extension shouldTrack:(BOOL)track timeout:(double)timeout completion:(id /* block */)completion;
- (id)_fileNameUrlForProvider:(unsigned long long)provider fileName:(id)name withExtension:(id)extension;
- (void)terminateProcess;
@end

#endif /* SGProviderFileBus_h */
