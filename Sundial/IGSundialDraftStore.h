//
//   Generated by https://github.com/blacktop/ipsw (Version: 3.1.468, BuildCommit: a1243d3a18f9b0e29af55a12ad74ccd2cd1f0abc)
//
//    - LC_BUILD_VERSION:  Platform: iOS, MinOS: 15.0, SDK: 17.4, Tool: ld (16.0)
//    - LC_SOURCE_VERSION: 
//
#ifndef IGSundialDraftStore_h
#define IGSundialDraftStore_h
@import Foundation;

#include "IGApplicationWillEnterForegroundCriticalEventsListener-Protocol.h"
#include "IGAsyncTask.h"
#include "IGDiskDirectory.h"
#include "IGObjectDiskStorage.h"
#include "IGStrictUserFlowLogger.h"
#include "IGSundialDraftLogger.h"
#include "IGSundialDraftPostObserver.h"
#include "IGSundialDraftStoreProtocol-Protocol.h"
#include "IGSundialDraftStoreResourceProvider-Protocol.h"
#include "IGSundialDraftStoreV2Protocol-Protocol.h"
#include "IGSundialFileMonitor.h"
#include "IGUserSession.h"
#include "_TtP26IGSundialDraftFileObserver28IGSundialFileMonitorDelegate_-Protocol.h"

@class NSArray, NSCache, NSError, NSMutableDictionary, NSString, NSURL, NSUserDefaults;
@protocol IGSundialDraftStoreEventAnnouncer;

@interface IGSundialDraftStore : NSObject<_TtP26IGSundialDraftFileObserver28IGSundialFileMonitorDelegate_, IGApplicationWillEnterForegroundCriticalEventsListener, IGSundialDraftStoreProtocol, IGSundialDraftStoreV2Protocol> {
  /* instance variables */
  IGUserSession *_userSession;
  IGObjectDiskStorage *_savedDraftsMetadataFile;
  NSMutableDictionary *_resourceDirectoryForDraft;
  NSMutableDictionary *_savedDrafts;
  IGSundialDraftPostObserver *_draftPostObserver;
  IGSundialFileMonitor *_fileMonitor;
  NSURL *_draftStoreMetadataUrl;
  NSError *_initializationError;
  BOOL _isAutoSavedStore;
  BOOL _isUserSavedStore;
  BOOL _isRecentlyDeletedStore;
  IGAsyncTask *_shareExtensionCopyTask;
  id _shareExtensionCopyLock;
  BOOL _isSqliteEnabled;
  NSCache *_previewImageCache;
  id _lock;
  IGAsyncTask *_savedDraftsLoadingTask;
  IGAsyncTask *_previousCompositionTask;
  IGAsyncTask *_previousCompositionLoadingTask;
  double _timeBeforeExpiration;
  NSArray *_autoSavedDraftsIDsToCleanup;
  IGStrictUserFlowLogger *_strictUserFlowLogger;
  IGSundialDraftLogger *_draftLogger;
  NSObject<IGSundialDraftStoreEventAnnouncer> *_eventAnnouncer;
  IGDiskDirectory *_draftsDirectory;
  NSError *_lastDraftRestoreError;
  NSError *_lastDraftSaveError;
  NSUserDefaults *_sharedUserDefaults;
  NSObject<IGSundialDraftStoreResourceProvider> *_resourceProvider;
}

@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@optional
@property (readonly, copy) NSString *debugDescription;

/* instance methods */
- (id)initWithUserSession:(id)session draftsDirectory:(id)directory eventAnnouncer:(id)announcer timeBeforeExpiration:(double)expiration;
- (id)initWithUserSession:(id)session draftsDirectory:(id)directory eventAnnouncer:(id)announcer timeBeforeExpiration:(double)expiration draftLogger:(id)logger resourceProvider:(id)provider;
- (void)fileWasDeleted;
- (BOOL)doesDraftExistWithId:(id)id forDraftStore:(long long)store;
- (id)savedDraftsforDraftStore:(long long)store;
- (id)updateNameForDraft:(id)draft draftName:(id)name forDraftStore:(long long)store;
- (id)draftNameForDraft:(id)draft draftStoreType:(long long)type;
- (void)saveRecentlyDeletedDraftForComposition:(id)composition mediaId:(id)id previewImage:(id)image completion:(id /* block */)completion;
- (void)extensionSaveDraftForComposition:(id)composition surface:(long long)surface previewImage:(id)image completion:(id /* block */)completion;
- (void)userTriggeredSaveDraftForComposition:(id)composition surface:(long long)surface previewImage:(id)image completion:(id /* block */)completion;
- (void)userTriggeredSaveDraftForComposition:(id)composition surface:(long long)surface previewImage:(id)image draftName:(id)name completion:(id /* block */)completion;
- (void)cloudDraftTriggeredSaveDraftForComposition:(id)composition surface:(long long)surface cloudDraftId:(id)id previewImage:(id)image completion:(id /* block */)completion;
- (void)publishFailureTriggeredSaveDraftForComposition:(id)composition surface:(long long)surface previewImage:(id)image entryPoint:(long long)point completion:(id /* block */)completion;
- (void)saveAutoSavedDraftForComposition:(id)composition forDraftStore:(long long)store entryPoint:(long long)point compositionMetadataTask:(id)task;
- (void)saveAutoSavedDraftForComposition:(id)composition forDraftStore:(long long)store entryPoint:(long long)point compositionMetadataTask:(id)task completion:(id /* block */)completion;
- (void)removeAutoSavedDraft;
- (void)removeDraftsWithIdentifiers:(id)identifiers forDraftStore:(long long)store surface:(long long)surface completion:(id /* block */)completion;
- (void)moveSundialDrafts:(id)drafts destinationDraftStoreType:(long long)type fromSundialDraftStore:(id)store sourceDraftStoreType:(long long)type completion:(id /* block */)completion;
- (id)loadCompositionForDraft:(id)draft forDraftStore:(long long)store surface:(long long)surface entryPoint:(long long)point;
- (id)loadCompositionForDraftWithIdentifier:(id)identifier forDraftStore:(long long)store surface:(long long)surface entryPoint:(long long)point;
- (id)loadCompositionForDraftWithIdentifier:(id)identifier forDraftStore:(long long)store surface:(long long)surface entryPoint:(long long)point isFailureNotVisibleToUser:(BOOL)user;
- (void)startObservingPost:(id)post forDraftStore:(long long)store forDraftIdentifier:(id)identifier;
- (void)saveDraftAfterPostingWithPostId:(id)id forDraftStore:(long long)store forComposition:(id)composition didPostExistingDraft:(BOOL)draft;
- (void)addMediaIdToDraft:(id)draft mediaId:(id)id draftStoreType:(long long)type;
- (id)getPreviewImageForDraft:(id)draft forDraftStore:(long long)store;
- (void)duplicateDraft:(id)draft forDraftStore:(long long)store;
- (void)duplicateDraft:(id)draft withName:(id)name forDraftStore:(long long)store;
- (void)saveDuplicatedComposition:(id)composition withName:(id)name forDraftStore:(long long)store originalCreationDate:(id)date completion:(id /* block */)completion;
- (void)clearPreviewImageCacheForDraftStore:(long long)store;
- (void)cancelPendingDraftForDraftStore:(long long)store;
- (id)diskSpaceOccupiedInBytesForDraftStore:(long long)store;
- (BOOL)shouldShowDraftCleanupToastWithNumberOfBytes:(id)bytes forDraftStore:(long long)store;
- (id)cleanupToastTextWithNumberOfBytes:(id)bytes forDraftStore:(long long)store;
- (void)showDraftCleanupToastIfNeededForDuration:(double)duration forDraftStore:(long long)store WithOpenDraftsAction:(id /* block */)action;
- (id)draftForId:(id)id forDraftStore:(long long)store;
- (id)autoSavedDraftForDraftStore:(long long)store;
- (id)draftForMediaId:(id)id forDraftStore:(long long)store;
- (id)autoSavedDraftId;
- (id)loadCompositionForAutoSavedDraftWithEntryPoint:(long long)point;
- (void)finishedDraftLoadWithDraftId:(id)id forDraftStore:(long long)store;
- (void)failedDraftLoadWithDraftId:(id)id forDraftStore:(long long)store error:(id)error;
- (void)cancelledDraftLoadWithDraftId:(id)id forDraftStore:(long long)store;
- (void)logAllAvailableDrafts:(long long)drafts forDraftStore:(long long)store;
- (id)copyDraftFromShareExtensionFolder;
- (void)_applicationDidEnterBackground:(id)background;
- (void)applicationWillEnterForegroundListener;
- (id)resourceDirectoryForDraft:(id)draft draftStoreType:(long long)type;
- (id)_resourceDirectoryForDraft:(id)draft;
- (unsigned long long)draftCountForDraftStore:(long long)store;
- (id)savedDraftsLoadingTaskForDraftStore:(long long)store;
- (id)draftsDirectoryForDraftStore:(long long)store;
- (id)eventAnnouncerForDraftStore:(long long)store;
- (id)lastDraftRestoreErrorForDraftStore:(long long)store;
- (id)lastDraftSaveErrorForDraftStore:(long long)store;
- (id)undoRestoreResourcesForIdentifier:(id)identifier;
@end

#endif /* IGSundialDraftStore_h */
